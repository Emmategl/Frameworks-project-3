{"ast":null,"code":"export const getBasket = async () => await (await fetch('http://localhost:3000/customers/1/basketDetails')).json();\nexport const getProducts = async () => await (await fetch('http://localhost:3000/products/info')).json();\nexport function getById(id) {\n  const requestOptions = {\n    method: 'GET'\n  };\n  return fetch('http://localhost:3000/products/' + id);\n}\nexport async function HandleAddToCart(clickedItem) {\n  try {\n    const isItemInCart = (await getBasket()).some(item => item.productId === clickedItem.productId);\n\n    if (isItemInCart) {\n      const response = await fetch(\"http://localhost:3000/customers/1/basket/\" + clickedItem.productId + \"/1\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      });\n      return;\n    }\n\n    const response = await fetch(\"http://localhost:3000/customers/1/basket\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        productId: clickedItem.productId,\n        quantity: 1\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    });\n  } catch (err) {\n    alert(\"Something Went Wrong\");\n    console.log(err);\n  }\n}\n_c = HandleAddToCart;\nexport async function HandleDecrementFromCart(id) {\n  try {\n    const response = await fetch(\"http://localhost:3000/customers/1/basket/\" + id + \"/-1\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    });\n    let data = await response.json();\n  } catch (err) {\n    alert(\"Something Went Wrong\");\n    console.log(err);\n  }\n}\n_c2 = HandleDecrementFromCart;\nexport async function HandleRemoveFromCart(id) {\n  try {\n    const response = await fetch(\"http://localhost:3000/customers/1/basket/\", {\n      method: \"DELETE\",\n      body: JSON.stringify({\n        productId: id,\n        quantity: 1\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    });\n    let data = await response.json();\n  } catch (err) {\n    alert(\"Something Went Wrong\");\n    console.log(err);\n  }\n}\n_c3 = HandleRemoveFromCart;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"HandleAddToCart\");\n$RefreshReg$(_c2, \"HandleDecrementFromCart\");\n$RefreshReg$(_c3, \"HandleRemoveFromCart\");","map":{"version":3,"sources":["/Users/emmateglbraender/Documents/ITU/2semester/Frameworks and Architectures for the Web/Mini projects/Mini project 3/hot_liquids/src/Components/HandleAddToCart.tsx"],"names":["getBasket","fetch","json","getProducts","getById","id","requestOptions","method","HandleAddToCart","clickedItem","isItemInCart","some","item","productId","response","headers","body","JSON","stringify","quantity","err","alert","console","log","HandleDecrementFromCart","data","HandleRemoveFromCart"],"mappings":"AAGA,OAAO,MAAMA,SAAS,GAAG,YACzB,MAAM,CAAC,MAAMC,KAAK,CAAC,iDAAD,CAAZ,EAAiEC,IAAjE,EADC;AAGP,OAAO,MAAMC,WAAW,GAAG,YAC3B,MAAM,CAAC,MAAMF,KAAK,CAAC,qCAAD,CAAZ,EAAqDC,IAArD,EADC;AAGP,OAAO,SAASE,OAAT,CAAiBC,EAAjB,EAAyB;AAC9B,QAAMC,cAAc,GAAG;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAvB;AACA,SAAON,KAAK,CAAC,oCAAkCI,EAAnC,CAAZ;AACD;AAED,OAAO,eAAeG,eAAf,CAA+BC,WAA/B,EAA0D;AAC7D,MAAI;AACI,UAAMC,YAAY,GAAG,CAAC,MAAMV,SAAS,EAAhB,EAAoBW,IAApB,CAAyBC,IAAI,IAAIA,IAAI,CAACC,SAAL,KAAmBJ,WAAW,CAACI,SAAhE,CAArB;;AACA,QAAIH,YAAJ,EAAkB;AAChB,YAAMI,QAAQ,GAAG,MAAMb,KAAK,CAAC,8CAA8CQ,WAAW,CAACI,SAA1D,GAAsE,IAAvE,EAA6E;AACvGN,QAAAA,MAAM,EAAE,KAD+F;AAEvGQ,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAF8F,OAA7E,CAA5B;AAMA;AACD;;AACD,UAAMD,QAAQ,GAAG,MAAMb,KAAK,CAAC,0CAAD,EAA6C;AACvEM,MAAAA,MAAM,EAAE,MAD+D;AAEvES,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,SAAS,EAAEJ,WAAW,CAACI,SADJ;AAEnBM,QAAAA,QAAQ,EAAE;AAFS,OAAf,CAFiE;AAMvEJ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAN8D,KAA7C,CAA5B;AAUP,GArBD,CAqBE,OAAOK,GAAP,EAAY;AACZC,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;AACF;KA1BmBZ,e;AA6BtB,OAAO,eAAegB,uBAAf,CAAuCnB,EAAvC,EAAmD;AACxD,MAAI;AACF,UAAMS,QAAQ,GAAG,MAAMb,KAAK,CAAC,8CAA8CI,EAA9C,GAAmD,KAApD,EAA2D;AACrFE,MAAAA,MAAM,EAAE,KAD6E;AAErFQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAF4E,KAA3D,CAA5B;AAMA,QAAIU,IAAI,GAAG,MAAMX,QAAQ,CAACZ,IAAT,EAAjB;AACD,GARD,CAQE,OAAOkB,GAAP,EAAY;AACZC,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;AACF;MAbqBI,uB;AAgBtB,OAAO,eAAeE,oBAAf,CAAoCrB,EAApC,EAAgD;AACrD,MAAI;AACF,UAAMS,QAAQ,GAAG,MAAMb,KAAK,CAAC,2CAAD,EAA8C;AACxEM,MAAAA,MAAM,EAAE,QADgE;AAExES,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,SAAS,EAAER,EADQ;AAEnBc,QAAAA,QAAQ,EAAE;AAFS,OAAf,CAFkE;AAMxEJ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAN+D,KAA9C,CAA5B;AAUA,QAAIU,IAAI,GAAG,MAAMX,QAAQ,CAACZ,IAAT,EAAjB;AACD,GAZD,CAYE,OAAOkB,GAAP,EAAY;AACZC,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;AACF;MAjBqBM,oB","sourcesContent":["import React from \"react\";\nimport { CartItemType } from \"./CartItemType\";\n\nexport const getBasket = async (): Promise<CartItemType[]> =>\nawait (await fetch('http://localhost:3000/customers/1/basketDetails')).json();\n\nexport const getProducts = async (): Promise<CartItemType[]> =>\nawait (await fetch('http://localhost:3000/products/info')).json();\n\nexport function getById(id:any) {  \n  const requestOptions = { method: 'GET'}; \n  return fetch('http://localhost:3000/products/'+id)\n}\n\nexport async function HandleAddToCart(clickedItem: CartItemType) {\n    try {\n            const isItemInCart = (await getBasket()).some(item => item.productId === clickedItem.productId); \n            if (isItemInCart) {\n              const response = await fetch(\"http://localhost:3000/customers/1/basket/\" + clickedItem.productId + \"/1\", {\n                method: \"PUT\",\n                headers: {\n                  \"Content-type\": \"application/json; charset=UTF-8\",\n                },\n              });\n              return\n            } \n            const response = await fetch(\"http://localhost:3000/customers/1/basket\", {\n              method: \"POST\",\n              body: JSON.stringify({\n                productId: clickedItem.productId,\n                quantity: 1,\n              }),\n              headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\",\n              },\n            });\n    } catch (err) {\n      alert(\"Something Went Wrong\");\n      console.log(err);\n    }\n  }\n\n\nexport async function HandleDecrementFromCart(id: number) {\n  try {\n    const response = await fetch(\"http://localhost:3000/customers/1/basket/\" + id + \"/-1\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    });\n    let data = await response.json();\n  } catch (err) {\n    alert(\"Something Went Wrong\");\n    console.log(err);\n  }\n}\n\n\nexport async function HandleRemoveFromCart(id: number) {\n  try {\n    const response = await fetch(\"http://localhost:3000/customers/1/basket/\", {\n      method: \"DELETE\",\n      body: JSON.stringify({\n        productId: id,\n        quantity: 1,\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    });\n    let data = await response.json();\n  } catch (err) {\n    alert(\"Something Went Wrong\");\n    console.log(err);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}